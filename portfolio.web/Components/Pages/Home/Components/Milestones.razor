@using portfolio.domain.Entities
@foreach (var (item, index) in Milestone.Select((item, index) => (item, index)))
{
    <div class="flex justify-center hidden md:flex">
        <div
            class="@((index + 1) % 2 == 0 && (index + 1) != 1 ? "border flex rounded-md shadow bg-white" : "") w-[325px] h-[102px]">
            @if ((index + 1) % 2 == 0 && (index + 1) != 1)
            {
                <div class="p-3 flex-1">
                    <div class="font-bold text-[15px]">@item.CompanyName</div>
                    <div class="text-[13px] border-b pb-2">@item.Position</div>

                    <div class="text-[13px] pt-2">@item.CompanyLocation</div>
                </div>
                <div class="flex flex-col text-center border-l p-3 ">
                    <div class="font-bold">@item.Month</div>
                    <div class="font-bold text-[23px]">@item.Day</div>
                    <div class="font-bold">@item.Year</div>
                </div>
            }
        </div>
        <div class="flex flex-col items-center justify-around">
            <div class="flex items-center justify-center h-2 w-2 rounded-full mx-5 @(index == 0 ? "" : "bg-sky-700" )">

            </div>
            <div class="flex items-center justify-center h-5 w-5 rounded-full bg-sky-700 mx-5 relative">
                <span class="absolute flex h-5 w-5 @(index == 0 ? "" : "hidden")">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-5 w-5 bg-sky-700"></span>
                </span>
            </div>
            <div
                class="flex items-center justify-center h-2 w-2 rounded-full mx-5 @(Milestone.Count == (index + 1) ? "" : "bg-sky-700" )">

            </div>
        </div>
        <div
            class="@((index + 1) % 2 > 0 || (index + 1) == 1 ? "border flex rounded-md shadow bg-white" : "") w-[325px] h-[102px]">
            @if ((index + 1) % 2 > 0 || (index + 1) == 1)
            {
                <div class="p-3 flex-1">
                    <div class="font-bold text-[15px]">@item.CompanyName</div>
                    <div class="text-[13px] border-b pb-2">@item.Position</div>

                    <div class="text-[13px] pt-2">@item.CompanyLocation</div>
                </div>
                <div class="flex flex-col text-center border-l p-3">
                    <div class="font-bold">@item.Month</div>
                    <div class="font-bold text-[23px]">@item.Day</div>
                    <div class="font-bold">@item.Year</div>
                </div>
            }
        </div>
    </div>


    <div class="flex justify-center md:hidden">
        <div class="flex flex-col items-center justify-around">
            <div class="flex items-center justify-center h-2 w-2 rounded-full mx-5 @(index == 0 ? "" : "bg-sky-700" )">

            </div>
            <div class="flex items-center justify-center h-5 w-5 rounded-full bg-sky-700 mx-5 relative">
                <span class="absolute flex h-5 w-5 @(index == 0 ? "" : "hidden")">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-5 w-5 bg-sky-700"></span>
                </span>
            </div>
            <div
                class="flex items-center justify-center h-2 w-2 rounded-full mx-5 @(Milestone.Count == (index + 1) ? "" : "bg-sky-700" )">

            </div>
        </div>
        <div class="border flex rounded-md shadow bg-white w-[325px] h-[102px]">
            <div class="p-3 flex-1">
                <div class="font-bold text-[15px]">@item.CompanyName</div>
                <div class="text-[13px] border-b pb-2">@item.Position</div>

                <div class="text-[13px] pt-2">@item.CompanyLocation</div>
            </div>
            <div class="flex flex-col text-center border-l p-3 ">
                <div class="font-bold">@item.Month</div>
                <div class="font-bold text-[23px]">@item.Day</div>
                <div class="font-bold">@item.Year</div>
            </div>
        </div>
    </div>
}

@code {
    [Parameter]
    public List<MilestoneModel> Milestone { get; set; } = [];
}